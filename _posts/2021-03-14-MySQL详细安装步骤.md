---
layout: post
title:  "MySQL详细安装步骤"
date:   2021-3-14-10-24
categories: 数据库
tags: MySQL
excerpt: MySQL详细的安装和下载过程，走了有一些弯路，记录一下
mathjax: true
---

* content
{:toc}


## 一、下载MySQL

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314005924844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314005953977.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
[点击下载MySQL](https://dev.mysql.com/downloads/mysql/)

## 二、安装MySQL

1. MySQL安装文件分两种.msi和.zip，此处选择**zip安装**。
   
   ![在这里插入图片描述](https://img-blog.csdnimg.cn/2021031401022969.png)

2. 解压缩之后其实MySQL就可以使用了，但是要进行环境变量的配置：
    `我的电脑->属性->高级->环境变量`
   
   ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314010527527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
   
    双击`Path`，点击`新建`，在其后面添加: 你的MySQL bin文件夹的路径 ：例如`D:\mysql-8.0.23-winx64\bin`

3. 配置完环境变量之后，在`D:\mysql-8.0.23-winx64\bin`目录下新增加一个配置文件mysql.ini ，同时在bin的同级目录下创建一个data文件夹（用于存放数据库数据）

    ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314011339481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
    
    mysql.ini文件内容（**注意修改basedir和datadir的路径**）
    
    ```
     [mysql]
     # 设置mysql客户端默认字符集
     default-character-set=utf8 
     [mysqld]
     #设置3306端口
     port = 3306 
     # 设置mysql的安装目录
     basedir=D:\mysql-8.0.23-winx64
     # 设置mysql数据库的数据的存放目录
     datadir=D:\mysql-8.0.23-winx64\data
     # 允许最大连接数
     max_connections=200
     # 服务端使用的字符集默认为8比特编码的latin1字符集
     character-set-server=utf8
     # 创建新表时将使用的默认存储引擎
     default-storage-engine=INNODB
    ```

4. 打开cmd，不需要进入安装目录（之前已经配置过环境变量），输入下面命令，回车没有反应是正常的。

      ```
      mysqld --initialize-insecure --user=mysql
      ```

5. 输入下面命令，回车，会提示安装成功

      ```
      mysqld install
      ```

      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314012039523.png)
  
      若显示如下图像，则需以管理员的身份打开cmd再执行。
      
      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314012140982.png)

      若显示如下图像，则是环境变量设置错误，可以到MySQL安装路径的bin文件夹下安装，例如`D:\mysql-8.0.23-winx64\bin`。
      
      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314012441675.png)

      若显示如下图像，可以使用`sc delete mysql`，删除以安装的MySQL。
      
      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314093155391.png)

6. 安装成功后，启动服务，输入如下命令，回车。

      ```
      net start mysql
      ```

      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314093445927.png)

7. 服务启动成功之后，需要登录的时候输入命令（第一次登录没有密码，直接按回车过）

      ```
      mysql -u root -p
      ```
      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314093859900.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
      
      退出MySQL，`quit`或`exit`或强制退出`ctrl+c`。

8. 修改密码（必须先启动mysql），执行如下命令回车，enter password也回车，密码一般设置为root，方便记忆

      ```
      mysqladmin -u root -p password
      ```
      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210314094817675.png)

9. 退出使用`exit`，**直接关闭cmd窗口是没有退出的**，要输入exit才会退出。

## 三、关闭MySQL开机自启动
1. 打开服务，或`windows + R`输入`Services.msc`。
2. MySQL右键属性，自动改成手动
![在这里插入图片描述](https://img-blog.csdnimg.cn/2021031409534322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc1MTk4Mw==,size_16,color_FFFFFF,t_70)
